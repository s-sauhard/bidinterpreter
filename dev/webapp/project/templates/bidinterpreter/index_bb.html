{% extends 'bidinterpreter/bidapp_base.html' %}



{% block sidebar %}
    {% include "bidinterpreter/includes/deals_sidebar.html" %}
{% endblock %}


{% block app_content %}
    <table class="table">
        <thead class="table-dark">
        <tr>
            <th scope="col">Deal</th>
            <th scope="col">Owner</th>
            <th scope="col">Date Created</th>
            <th scope="col">Edit/Delete</th>
        </tr>
        </thead>
        <tbody>
        {% for d in all_deals %}
            <tr id="row-{{ d.pk }}">

                <td><a href="{% url 'bidinterpreter:detail' d.pk %}">{{ d.deal_name }}</a></td>
                <td>
                    <p>
                        {{ d.user }}
                    </p>
                </td>
                <td>
                    <p>
                        4/4/21
                    </p>
                </td>
                <td>
                    <a href="{% url 'bidinterpreter:deal-update' d.pk %}">
                        <button type="submit" class="btn btn-light">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                        </button>
                    </a>
                    <form action="{% url 'bidinterpreter:deal-delete' d.pk %}" id="{{ d.pk }}" method="post"
                          style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-light delete-button" data-dealid="{{ d.pk }}"
                                data-dealname="{{ d.deal_name }}">
                            <i class="fa fa-trash-o" aria-hidden="true" data-toggle="modal"
                               data-target="#exampleModal"></i>
                        </button>
                    </form>
                </td>



            {#          <div >#}
            {#                        <div class="col-md-2"></div>#}
            {#                        <div class="col-md-4">#}
            {#                            <input type="file" class="pond" name="filepond[{{d.pk}}]" />#}
            {##}
            {#                        </div>#}
            {#                        <div class="col-md-4">#}
            {#                            <a href="{% url 'bidinterpreter:bid-add' d.pk%}" role="button" class="btn btn-outline-secondary btn-lg btn-block">..or enter bid manually</a>#}
            {#                        </div>#}
            {#                        <div class="col-md-2"></div>#}
            {#                     </div>#}
            {% empty %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>Holy guacamole!</strong> There are no bids yet!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
        </tr>
        </tbody>
    </table>


    <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" id="exampleModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header" align="right">
                    <h5 class="modal-title" id="confirmationtext">Are you sure you want to delete?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="delete-confirm">Delete</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block additional_js %}
{#    <script>#}
{#        for (let i = 1; i <= 3; i++) {#}
{#          const row = document.getElementById(`row-${i}`);#}
{#          row.addEventListener("click", () => {#}
{#            window.location.href = `/bidinterpreter/${i}`;#}
{#          });#}
{#        }#}
{#    </script>#}
{% endblock %}








